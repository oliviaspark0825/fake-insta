<div class="col-4 my-3">
<div class="card">
    <!--이미지가 1:n으로 존재한다면-->
    {% if post.image_set %}
  <!--<img src="{{ post.img.url }}" class="card-img-top" alt="{{ post.img }}">-->
  <div id="post{{ post.pk }}" class="carousel slide" data-ride="carousel">
  <div class="carousel-inner">
      {% for image in post.image_set.all %}
        <div class="carousel-item {% if forloop.counter == 1 %} active{% endif %}">
          <img src="{{ image.file.url }}" class="d-block w-100 mt-3" alt="{{image.file }}">
        </div>
      {% endfor %}
  </div>
      <a class="carousel-control-prev" href="#post{{ post.pk }}" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#post{{ post.pk }}" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
</div>

  {% else %}
  <img src="{{ image.file.url }}" alt="no_image">
  {% endif %}
  
  <div class="card-body">
    <p class="card-text">{{ post.content }}</p>
    <a href="{% url 'posts:update' post.pk %}" class="btn btn-success">수정</a>
    <form action="{% url 'posts:delete' post.pk %}" method='POST' style="display:inline; ">
        {% csrf_token %}
        <input type="submit" value="삭제" class="btn btn-danger">
    </form>
  </div>
</div>
<!--list.html의 for 문 안에 post 가 있기 때문에-->
</div>